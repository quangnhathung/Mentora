import { FlashList, type FlashListProps } from '@shopify/flash-list';
import { cssInterop } from 'nativewind';
import React from 'react';
import {
  ActivityIndicator,
  type SectionBase,
  SectionList as SectionListC,
  type SectionListProps,
  View,
} from 'react-native';
import Svg, { Path } from 'react-native-svg';

import colors from '@/shared/ui/colors';
import { Text } from '@/shared/ui/text';

type Props = {
  isLoading: boolean;
};

const FlashListBase = cssInterop(FlashList, {
  contentContainerClassName: 'contentContainerStyle',
});
const RNSectionListBase = cssInterop(SectionListC, {
  className: 'style',
  contentContainerClassName: 'contentContainerStyle',
});

export const List = FlashListBase as unknown as <T>(
  props: FlashListProps<T> & {
    className?: string;
    contentContainerClassName?: string;
  }
) => React.ReactElement;

export const ListSection = RNSectionListBase as unknown as <
  ItemT,
  SectionT extends SectionBase<ItemT> = SectionBase<ItemT>,
>(
  props: SectionListProps<ItemT, SectionT> & {
    className?: string;
    contentContainerClassName?: string;
  }
) => React.ReactElement;

export const EmptyList = React.memo(({ isLoading }: Props) => {
  return (
    <View className="min-h-[400px] w-full items-center justify-center">
      {!isLoading ? (
        <View className={`items-center justify-center`}>
          <NoData />
          <Text tx="noti.error.empty" className="pt-4 text-center" />
        </View>
      ) : (
        <ActivityIndicator color={colors.secondary.DEFAULT} />
      )}
    </View>
  );
});

export const EmptyData = React.memo(() => {
  return (
    <View className="w-full items-center justify-center py-4">
      <NoData />
      <Text tx="noti.error.empty" className="pt-4 text-center" />
    </View>
  );
});

export const NoData = () => (
  <Svg width={100} height={108} viewBox="0 0 100 108" fill="none">
    <Path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M96.0686 56.8805L94.9452 54.1842C94.7389 53.7273 94.3938 53.3471 93.9589 53.0978C93.524 52.8485 93.0215 52.7428 92.523 52.7957C91.085 53.0203 89.6065 53.5596 88.0337 53.6944C87.6863 53.7024 87.3435 53.6143 87.0429 53.4398C86.7424 53.2654 86.4959 53.0114 86.3305 52.7058C86.1578 52.4057 86.0669 52.0656 86.0669 51.7194C86.0669 51.3732 86.1578 51.0331 86.3305 50.733C86.9297 49.6305 87.6936 48.6584 88.6224 47.8165C88.9819 47.457 90.011 46.6032 90.5951 45.9292C91.1253 45.3669 91.4431 44.6376 91.4939 43.8665C91.538 43.3173 91.4613 42.7651 91.2692 42.2487C91.2692 41.6691 90.5053 40.8602 90.4154 40.5007L87.764 35.0722C87.3263 34.2022 86.8324 33.3616 86.2856 32.5557C85.841 31.9694 85.2049 31.5576 84.4881 31.3918C83.9123 31.2643 83.3157 31.2643 82.74 31.3918C82.2007 31.3918 81.3918 32.0658 81.0773 32.2007L76.907 34.1779C76.5026 33.7285 76.0981 33.369 76.0083 33.2792C75.0255 32.2248 73.7918 31.4363 72.4222 30.9873C71.0883 30.5613 69.6791 30.4234 68.2879 30.5829C65.9062 30.8435 63.7222 32.0209 62.1898 33.8634C61.4247 34.7505 60.8503 35.7856 60.5024 36.9043C60.1545 38.023 60.0405 39.2013 60.1676 40.3659C60.3173 41.3163 60.6049 42.2397 61.0214 43.1071L59.3138 43.8261L56.6265 45.1248C54.2897 47.147 55.2783 49.295 57.7949 48.3109L60.617 47.1874C61.4259 46.9178 62.5044 46.738 63.4481 46.4235C63.9993 46.2347 64.5221 45.9801 65.0164 45.6595C65.3939 45.3265 65.6512 44.8785 65.7486 44.3847C65.8461 43.8909 65.7783 43.3787 65.5557 42.9273C65.5557 42.6577 65.0614 41.9836 65.0614 41.9387L64.5221 39.9614C64.5149 38.8338 64.932 37.7446 65.6905 36.9101C66.5332 36.2108 67.6023 35.8433 68.6968 35.8766C69.3445 35.8589 69.9884 35.9816 70.5842 36.2361C71.1034 36.4557 71.5637 36.7944 71.9279 37.2247C71.9279 37.2247 72.8716 38.8425 73.2311 39.3817C73.5065 39.8425 73.8922 40.2275 74.3535 40.5021C74.8148 40.7767 75.3371 40.9321 75.8734 40.9545C76.4172 40.8659 76.9371 40.6671 77.4013 40.3703L78.8394 39.5165L82.8299 37.9437L85.3014 42.7925L85.5261 43.4666L84.7622 44.0058C83.1444 45.7045 81.985 47.7896 81.3918 50.0589C81.1847 51.0215 81.1983 52.0186 81.4318 52.9751C81.6653 53.9317 82.1126 54.8229 82.74 55.5818C83.2772 56.3619 83.9848 57.0097 84.8093 57.476C85.6338 57.9424 86.5535 58.2151 87.4989 58.2736C88.9234 58.2107 90.33 57.941 91.6692 57.4647C92.0287 58.0039 92.523 58.5432 92.523 58.5881C93.4217 60.3362 94.4553 62.0843 95.3541 63.8369C95.5788 64.3312 95.754 64.8704 95.9787 65.3648C95.1249 65.7692 94.316 66.2141 93.4173 66.5736C91.5793 67.3375 89.6515 67.7869 87.7685 68.416C85.8811 69.0452 83.9039 69.9394 82.0704 70.7034L75.2488 74.8736L70.7595 77.0755C70.3091 77.3186 69.9676 77.7234 69.8039 78.2083C69.6403 78.6933 69.6665 79.2222 69.8774 79.6885C70.0884 80.1548 70.4683 80.5238 70.9405 80.7211C71.4128 80.9183 71.9423 80.9292 72.4222 80.7515C76.4666 79.5381 80.4302 78.0417 84.2679 76.2667C85.5711 75.7274 86.9147 75.2331 88.2179 74.604C89.5166 73.9748 90.9097 73.2558 92.1635 72.5413C93.4985 71.6815 94.7871 70.7514 96.0237 69.7552L95.754 74.7433C95.754 77.7901 95.754 78.6439 91.9388 81.3356C89.1526 83.0283 86.2661 84.5247 83.2792 85.8249C80.7627 87.1731 78.0754 88.337 75.4286 89.4604C74.0355 90.0895 72.5525 90.6737 70.9392 91.2534C70.9392 90.13 71.3437 85.4654 69.3215 85.4654C67.2993 85.4654 65.8253 86.5889 66.405 90.3097C66.6297 91.7927 66.8544 91.2984 67.3487 92.7364L56.1322 97.2212C52.0024 98.9737 48.1871 101.081 44.1067 102.74C42.444 103.429 40.7379 103.998 38.9883 104.447C38.542 104.548 38.1541 104.823 37.9102 105.21C37.6662 105.597 37.586 106.066 37.6873 106.512C37.7886 106.958 38.0631 107.346 38.4504 107.59C38.8376 107.834 39.3059 107.914 39.7522 107.813C41.705 107.401 43.6246 106.845 45.4953 106.15C49.715 104.802 53.71 103.009 57.8802 101.666C63.5379 99.6882 69.326 97.9806 74.8444 95.7831C78.6378 94.2507 82.3248 92.4672 85.8811 90.4445C89.0164 88.7988 92.017 86.9085 94.8553 84.7914C96.7966 83.1794 98.334 81.1358 99.3446 78.8236C99.5916 78.3529 99.7153 77.8272 99.7041 77.2957C99.7041 76.3071 99.2547 74.9185 99.2098 74.2445C98.8952 60.6058 102.666 72.0919 96.0641 56.8805"
      fill="#6EFFDC"
    />
    <Path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M33.9642 103.997C31.4533 102.89 29.3399 101.043 27.9065 98.7034C25.5824 94.6915 23.5721 90.5058 21.8938 86.1837C20.8153 83.8469 19.8267 81.4697 18.838 79.0925C17.2248 75.502 12.2007 62.8026 12.0659 62.3981C10.8076 59.3019 9.32914 56.2506 8.11581 53.1544C7.62149 51.8962 7.12717 50.6424 6.67779 49.3392C6.23291 48.036 5.55884 45.6633 5.10945 43.7759C4.77664 42.6549 4.50659 41.5162 4.30057 40.3651C4.02957 39.3756 4.02396 38.3321 4.28428 37.3397C4.54461 36.3474 5.0617 35.441 5.78353 34.7119C6.59241 33.5885 7.49117 32.5549 8.38993 31.5258C8.81235 35.2257 9.43999 38.8912 10.2728 42.5221C11.1716 46.5126 12.6501 49.6088 13.8634 53.6487C14.3128 55.0867 14.4476 55.8057 15.2565 57.9133C15.5684 58.3563 16.0172 58.6845 16.5338 58.8475C17.0505 59.0105 17.6064 58.9992 18.116 58.8154C18.6257 58.6315 19.0608 58.2854 19.3544 57.8301C19.6481 57.3748 19.784 56.8356 19.7413 56.2956C19.0672 54.543 18.8875 53.9633 18.3482 52.6601C16.5069 48.2488 14.8621 43.7581 13.4185 39.2012C12.6096 35.8758 11.8007 32.7841 11.1716 29.598C11.1716 29.598 11.1716 29.3284 10.902 29.1486C16.335 27.1714 21.7186 24.6594 27.192 22.7315C29.6082 21.8197 32.0823 21.0691 34.5978 20.4846C36.2545 19.6757 37.9741 19.0331 39.7567 18.5568C40.2061 19.4106 40.8801 20.6239 41.4194 21.8822C41.9347 22.9517 42.2942 24.0722 42.4979 25.2435C42.1962 25.7637 41.8342 26.2463 41.4194 26.6816C40.3884 27.7653 39.5387 29.008 38.9029 30.362C38.5572 31.1385 38.3786 31.979 38.3786 32.829C38.3786 33.6791 38.5572 34.5196 38.9029 35.2961C39.5275 37.0847 40.6644 38.6485 42.1833 39.7854C43.7954 40.9319 45.7931 41.3999 47.7467 41.0886H48.6005C48.5759 41.2359 48.5759 41.3862 48.6005 41.5335L50.079 45.2588C51.4271 47.5911 53.9391 45.4835 53.5347 43.5961L52.4112 40.0955C52.1359 39.1205 51.8058 38.1618 51.4226 37.224C51.2643 36.8644 51.0163 36.5516 50.7023 36.3155C50.3883 36.0794 50.0189 35.928 49.6296 35.8758C49.2007 35.7777 48.7552 35.7777 48.3264 35.8758C47.9669 35.8758 46.6637 36.1904 46.7086 36.6398C46.0884 36.5688 45.5073 36.3011 45.0504 35.8758C44.4219 35.2892 43.9572 34.5489 43.7023 33.7278C43.6215 33.5516 43.5797 33.36 43.5797 33.1661C43.5797 32.9722 43.6215 32.7806 43.7023 32.6044C44.3733 31.6247 45.1523 30.7409 46.039 29.953C47.0187 28.9195 47.7287 27.6567 48.1062 26.2771C48.2693 24.7477 48.0372 23.2019 47.4321 21.7878C46.5545 19.4398 45.4718 17.1737 44.1966 15.0157C43.8222 14.4387 43.2882 13.9828 42.6595 13.7036C42.0309 13.4244 41.3346 13.3338 40.6554 13.4429C38.091 13.9222 35.5625 14.5513 33.0699 15.3303C30.4266 16.1909 27.8481 17.2391 25.354 18.4669C19.6559 21.0284 14.0881 24.2594 8.56968 26.9062L7.58105 27.5803C6.10259 29.1037 4.48931 30.6765 3.09623 32.3797C2.07764 33.575 1.1639 34.8467 0.355011 36.1949C0.143715 36.6622 0.0232377 37.1655 0 37.6778C0 38.662 0.22469 40.0955 0.22469 40.6797C0.22469 42.0727 0.494319 43.4209 0.763947 44.8095C1.03358 46.198 1.48296 48.7146 1.8874 50.6873C2.33678 52.6706 2.91947 54.6149 3.63549 56.5202C4.62412 59.2165 5.74758 61.9038 6.77666 64.5956C8.70899 69.4893 10.5919 74.3785 12.6995 79.1824C14.1824 82.4134 15.7957 85.5995 17.4989 88.6957C19.5436 93.0996 21.9477 97.3328 24.68 101.35C26.7796 104.25 29.7505 106.404 33.1598 107.498C33.4811 107.586 33.822 107.573 34.1357 107.461C34.4494 107.348 34.7206 107.141 34.9124 106.869C35.1665 107.122 35.4995 107.28 35.8561 107.318C36.0814 107.336 36.308 107.307 36.522 107.235C36.736 107.162 36.9329 107.046 37.1007 106.895C37.2685 106.743 37.4037 106.559 37.498 106.354C37.5923 106.149 37.6437 105.926 37.6491 105.7C38.1524 103.678 38.4969 101.629 38.6827 99.5527C37.4693 97.2159 36.1661 96.4565 34.1934 98.1596C33.7305 100.074 33.6496 102.056 33.9642 103.997Z"
      fill="#6EFFDC"
    />
    <Path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M48.237 7.83479L49.4908 9.45255C49.9402 9.94687 50.3896 10.4412 50.8839 10.8861C55.3687 15.3709 55.3687 15.3709 56.5371 14.9709C58.5593 13.9823 55.6383 8.14936 55.2788 7.52023C54.8779 6.79599 54.3789 6.13062 53.7959 5.54297C53.2632 4.93708 52.6614 4.39564 52.0028 3.9297C46.1249 -0.555093 45.1003 0.968298 44.6959 1.59743C44.2915 2.22656 44.5162 3.21519 48.2415 7.83479M65.8258 13.443C66.3201 13.443 67.2638 13.9373 69.5916 8.95824C69.8342 8.48489 70.014 7.99058 70.1308 7.47529C70.1308 6.98098 70.1308 6.48666 70.4005 5.99234C70.8498 1.23792 71.0296 0.608796 69.8163 0.0695419C69.322 0.0695419 67.8884 -0.919089 65.3315 4.55883C65.048 5.06642 64.8363 5.61086 64.7023 6.17659C64.5316 6.71584 64.4267 7.26858 64.3878 7.83479C64.3878 7.83479 64.1631 13.443 65.8258 13.443ZM82.4259 17.9323C83.1 17.6178 83.7291 17.2583 84.3582 16.8987L86.2861 15.6854C91.5348 12.2297 92.5684 12.0095 91.9842 10.3918C91.7146 9.71769 91.3101 8.27968 83.9088 10.7513C83.0745 11.0504 82.2634 11.4109 81.4822 11.8298C80.7051 12.2718 79.9697 12.7832 79.2847 13.3576C78.2062 14.3418 73.8562 18.9165 75.474 20.4443C77.0872 21.9722 76.5075 21.033 82.4259 17.9323ZM67.9334 77.3401L65.3719 70.6983C66.1358 70.2489 66.9897 69.8894 67.0346 69.8445C68.5604 68.5674 69.7487 66.9346 70.4948 65.09C71.0499 63.6631 71.1886 62.1079 70.8948 60.6053C70.7357 59.6938 70.3907 58.8248 69.8812 58.0525C69.3717 57.2801 68.7087 56.6209 67.9334 56.116C65.9518 54.8379 63.5901 54.2824 61.2466 54.5431L58.6447 55.0824L58.0605 54.3634L55.2339 49.3393C55.2339 49.3393 54.425 46.7824 53.661 46.5577C51.5085 45.9286 47.4281 49.7483 45.7205 50.7774C45.0554 51.1818 44.3664 51.5413 43.6533 51.8559C43.2534 51.8559 41.4154 52.5299 40.6964 52.8894C40.186 53.183 39.79 53.6408 39.573 54.1881C39.4942 54.5887 39.4942 55.0008 39.573 55.4015C39.573 56.0755 40.1572 57.4192 40.1572 57.9584C40.2291 59.0953 40.0268 60.2323 39.573 61.2793C39.2271 62.1295 38.5899 62.8288 37.7754 63.2521C37.5013 63.4048 37.1927 63.4849 36.8789 63.4849C36.5651 63.4849 36.2566 63.4048 35.9824 63.2521C35.0026 62.6994 34.1353 61.9678 33.4254 61.0951C32.7364 60.2413 31.9874 59.4339 31.1785 58.6729C30.4457 58.1021 29.554 57.7724 28.6261 57.7292C27.9875 57.7666 27.3548 57.8721 26.7387 58.0438C25.1209 58.4033 23.4627 59.2571 21.9393 59.4369H21.3551C19.9171 58.8527 16.0614 61.4591 16.6006 62.9825C16.6006 63.297 21.0855 73.6642 22.6583 77.3401C23.8267 80.261 24.9906 83.1281 26.2488 85.9592C27.1057 88.1371 28.1812 90.2013 29.4754 92.1516C30.2873 93.1462 31.231 93.9985 32.3065 94.7086C34.0653 95.6538 36.0122 96.1965 38.0063 96.2976C40.0005 96.3986 41.9922 96.0554 43.8376 95.2927C46.9087 94.4497 49.9092 93.3679 52.8117 92.0572C55.5979 90.7061 58.3046 89.2112 60.932 87.5724C62.0555 86.8984 64.1676 86.0445 65.7808 85.011C65.7808 85.3705 68.8771 83.173 69.1467 82.099C69.2452 80.4253 68.8212 78.7623 67.9334 77.3401ZM63.7586 66.0337C63.7586 66.0337 61.7409 67.3819 61.0668 67.9211C60.6028 68.2535 60.2482 68.7165 60.0482 69.251C59.8481 69.7856 59.8116 70.3676 59.9434 70.923L62.5498 78.9578L62.9992 79.7667L62.1004 80.2611C60.5725 81.1149 58.6896 81.8743 57.6111 82.4585C55.144 83.9415 52.632 85.33 49.9851 86.5838C47.4158 87.8096 44.7604 88.8459 42.0401 89.6845C40.7234 90.1339 39.3483 90.4215 37.9597 90.5383C36.7608 90.6399 35.5556 90.4391 34.4545 89.9541C33.727 89.5588 33.1105 88.9871 32.6615 88.2914C31.6872 86.8596 30.8176 85.3593 30.0596 83.8021C28.28 80.4382 26.5897 77.0277 24.9906 73.5743C23.3728 70.1141 22.519 68.0065 21.3101 65.1799H22.2538C30.509 63.0274 27.4577 63.5172 29.1204 65.1799C30.6033 66.8246 32.4907 68.0604 34.5938 68.7749C35.4754 69.0541 36.4055 69.1463 37.3247 69.0457C38.244 68.9451 39.1321 68.6539 39.9325 68.1908C41.4277 67.3505 42.6208 66.0614 43.3433 64.5059C44.3319 62.4612 44.7049 60.1694 44.4218 57.9135C44.3052 57.5033 44.1065 57.121 43.8376 56.79C44.4667 56.4755 45.1408 55.9362 45.3205 55.8463C46.1534 55.397 46.9608 54.9026 47.7427 54.3634C49.1358 53.3793 50.4794 52.2603 51.913 51.2717L54.6092 56.6103C54.8639 57.3862 55.2069 58.1202 55.6383 58.8122C55.9875 59.2522 56.4809 59.5546 57.0314 59.6661C57.6426 59.7559 58.2552 59.7559 58.8694 59.6661C59.7681 59.6661 60.8017 59.2167 61.6106 59.1717C62.7161 59.1043 63.817 59.3515 64.7922 59.8862C65.1651 60.0576 65.4932 60.3132 65.7505 60.633C66.0078 60.9527 66.1874 61.3278 66.2752 61.7287C66.3734 62.5394 66.1995 63.3598 65.7808 64.061C65.2236 64.8189 64.5645 65.4765 63.8036 66.0337H63.7586Z"
      fill="#FFAA00"
    />
  </Svg>
);
